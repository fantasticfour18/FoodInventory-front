<div class="homeLoader" *ngIf="isLoading">
    <img src="assets/images/unnamed.gif">
</div>

<!--style="background-image: url(data:image/png;base64,{{CoverImage}});"-->
<header class="home-header" style="background-image: url(data:image/png;base64,{{CoverImage}});" *ngIf="!isLoading">
    <div class="container">
        <div class="row">
            <div class="col-sm-1"></div>
            <div class="col-sm-5 col-6 mt-3">
                <h3 class="header-number"><span><svg width="22" height="22" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0)">
                    <path d="M28.5126 20.3479C26.6146 20.3479 24.7511 20.0511 22.9851 19.4675C22.1198 19.1724 21.056 19.4431 20.5279 19.9856L17.0423 22.6168C12.9999 20.459 10.5099 17.9698 8.38154 13.9578L10.9354 10.563C11.5989 9.90038 11.8369 8.93244 11.5518 8.02424C10.9657 6.249 10.668 4.38634 10.668 2.48759C10.668 1.11592 9.55212 0 8.18053 0H2.48751C1.11592 0 0 1.11592 0 2.48751C0 18.2095 12.7906 31 28.5126 31C29.8842 31 31.0001 29.8841 31.0001 28.5125V22.8354C31 21.4639 29.8841 20.3479 28.5126 20.3479Z" fill="#E90026"/>
                    </g>
                    <defs>
                    <clipPath id="clip0">
                    <rect width="31" height="31" fill="white"/>
                    </clipPath>
                    </defs>
                    </svg>
                    </span>{{siteDetails.phoneNumber}}</h3>
            </div>
            <div class="col-sm-5 col-6 mt-3">
                <a id="login-btn" class='btn btn-white btn-login bg-white float-right' *ngIf="!loginStatus"
                  (click)="openOTPModal=true;">Einloggen</a>
                <a class='btn btn-white btn-login w-auto bg-white float-right' (click)="profileDropdown = (profileDropdown == true ? false : true)" *ngIf="loginStatus">
                    {{userDetails.firstName}}
                    <div class="profile-dropdown" *ngIf="profileDropdown">
                        <ul class="profile-nav">
                            <li class="nav-item"><a routerLink="/order-history">Ihre Bestellhistorie<!-- Order History --></a></li>
                <li class="nav-item"><a (click)="logOut();">Ausloggen<!-- Logout --></a></li>
                </ul>
            </div>
            </a>
        </div>
        <div class="col-sm-1"></div>
    </div>
    </div>
</header>

<div class="page-wrapper p-0" *ngIf="!isLoading">

        <div class="container bg-white home-branding-section p-1">
            <div class="row p-0">
                <div class="col-sm-12">
                    <div class="home-branding">
                        <div class="row " >
                            <div class="col-4 col-4 mt-3 text-left" *ngIf="siteDetails.deliveryDiscount != 0">
                                <!-- <button disabled class="discount-left-label">Discount on Delivery {{siteDetails.deliveryDiscount}}% aus</button> -->
                                <div class="discount-label-col mx-auto">
                                    <div class="discount-lable"><h5>{{siteDetails.deliveryDiscount}}%</h5></div>
                                    <span>Rabatt bei Lieferung</span>
                                </div><!--discount-label-col-close-->
                            </div><!--div-->

                            <div class="col-4 col-4 offset-4 " *ngIf="siteDetails.deliveryDiscount == 0; else deliveryNotZero" >
                              <div class="menu-logo mx-auto d-flex bg-white" >
                                  <!--<img src="{{env.apiBaseUrl + env.logo}}" class="w-100 my-auto" alt="">-->
                                  <img src="data:image/png;base64,{{IconImage}}" class="w-100 my-auto" alt=""/>
                              </div>
                          </div><!--div-->

                          <ng-template #deliveryNotZero>
                            <div class="col-4 col-4 text-center" *ngIf="siteDetails.deliveryDiscount != 0 || siteDetails.collectionDiscount !=0">
                              <div class="menu-logo mx-auto d-flex bg-white ">
                                  <!--<img src="{{env.apiBaseUrl + env.logo}}" class="w-100 my-auto" alt="">-->
                                  <img src="data:image/png;base64,{{IconImage}}" class="w-100 my-auto" alt=""/>
                              </div>
                            </div><!--div-->
                          </ng-template>

                            <div class="col-4 col-4 mt-3 text-right" *ngIf="siteDetails.collectionDiscount != 0">
                              <!-- <button disabled class="discount-right-label">Discount on Collection {{siteDetails.collectionDiscount}}% aus</button> -->
                              <div class="discount-label-col mx-auto">

                                  <div class="discount-lable"><h5>{{siteDetails.collectionDiscount}}%</h5></div>
                                  <span>Rabatt bei Abholung</span>
                              </div>
                            </div><!--div-->

                        </div>

                        <img *ngIf="siteDetails.deliveryDiscount !=0 || siteDetails.collectionDiscount !=0; else openCloseWithoutDiscounts"[src]="siteDetails.isOnline ? 'assets/icons/G-open.svg' : 'assets/icons/g-close.svg' "  class='m-auto d-block open-now'>
                        <ng-template #openCloseWithoutDiscounts>
                          <img [src]="siteDetails.isOnline ? 'assets/icons/G-open.svg' : 'assets/icons/g-close.svg' "  class='m-auto d-block open-now-discounts-none'>
                        </ng-template>

                        <div class="time-slots">
                          <ng-container *ngFor="let slot of siteDetails.timeSlots; index as i;">
                            <p *ngIf="slot.isActive" class="text-light text-center mt-0 mb-1 rest-time-status" [ngStyle]="{'font-size': '15px'}">
                              Öffnungszeiten:<!-- Opens at --> {{slot.openTime}} - <!-- Closes at --> {{slot.closeTime}}
                               <!-- <span *ngIf ="i < siteDetails.timeSlots.length-1" class="times-divider">|</span> -->
                           </p>
                          </ng-container>
                        </div>
                        <!-- <p class="text-light text-center mt-0 mb-1 rest-time-status" [ngStyle]="{'font-size': '12px', 'line-height': '0.1em'}">Öffnet umOpens at {{siteDetails.openTime}} - Schließt umCloses at {{siteDetails.closeTime}}</p> -->
                        <!--<ng-template #closedNote>
                          <p class="text-light text-center mt-0 mb-1" [ngStyle]="{'font-size': '12px'}">Closed Today at {{siteDetails.closeTime}}</p>
                        </ng-template>-->

                        <div class="home-brand-name">
                            <h2 class="text-center text-danger mt-1 mb-0 w-auto ph-2">{{siteDetails.restaurantName}}
                                <!--<span class="text-white branding-offer" *ngIf="siteDetails.discount > 0">{{siteDetails.discount}}% aus  off ></span>
                                <span class="text-white branding-offer" style="background-image: none;" *ngIf="siteDetails.discount == 0">{{siteDetails.discount}}% aus off </span>-->
                            </h2>
                        </div>
                        <p class="text-center mb-4 order_text">
                          Mindestbestellwert:
                          <span class='text-danger' *ngIf="CartService.deliveryType == 'DELIVERY' else minOrderCollection">
                            {{siteDetails.minimumOrder | number: '1.2-2' | germanCurr: siteDetails.mininumOrder }} €</span>
                            <ng-template #minOrderCollection>
                              <span class='text-danger'>
                                {{0 | number: '1.2-2' | germanCurr: 0 }} €</span>
                            </ng-template>
                             | Bewertungen<!-- Reviews -->(4.8) <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0)">
                            <path d="M18.9728 7.3201C18.9074 7.11856 18.7332 6.97168 18.5236 6.94125L12.6335 6.08532L9.99927 0.748014C9.90553 0.558015 9.71201 0.437744 9.50015 0.437744C9.28826 0.437744 9.09477 0.558015 9.001 0.748014L6.36669 6.08532L0.476711 6.94125C0.267081 6.97168 0.0928531 7.11856 0.0273925 7.32006C-0.0381053 7.5216 0.0165194 7.74281 0.168259 7.89069L4.43018 12.0452L3.42422 17.9116C3.38838 18.1204 3.47425 18.3314 3.64565 18.456C3.74262 18.5264 3.85747 18.5623 3.97288 18.5623C4.0615 18.5623 4.15041 18.5411 4.23183 18.4983L9.50012 15.7286L14.7682 18.4983C14.9558 18.5969 15.183 18.5805 15.3544 18.4559C15.5258 18.3314 15.6117 18.1203 15.5759 17.9115L14.5696 12.0452L18.832 7.89065C18.9837 7.74281 19.0384 7.5216 18.9728 7.3201Z" fill="#FF8000"/>
                            </g>
                            <defs>
                            <clipPath id="clip0">
                            <rect width="19" height="19" fill="white"/>
                            </clipPath>
                            </defs>
                            </svg>
                            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0)">
                                <path d="M18.9728 7.3201C18.9074 7.11856 18.7332 6.97168 18.5236 6.94125L12.6335 6.08532L9.99927 0.748014C9.90553 0.558015 9.71201 0.437744 9.50015 0.437744C9.28826 0.437744 9.09477 0.558015 9.001 0.748014L6.36669 6.08532L0.476711 6.94125C0.267081 6.97168 0.0928531 7.11856 0.0273925 7.32006C-0.0381053 7.5216 0.0165194 7.74281 0.168259 7.89069L4.43018 12.0452L3.42422 17.9116C3.38838 18.1204 3.47425 18.3314 3.64565 18.456C3.74262 18.5264 3.85747 18.5623 3.97288 18.5623C4.0615 18.5623 4.15041 18.5411 4.23183 18.4983L9.50012 15.7286L14.7682 18.4983C14.9558 18.5969 15.183 18.5805 15.3544 18.4559C15.5258 18.3314 15.6117 18.1203 15.5759 17.9115L14.5696 12.0452L18.832 7.89065C18.9837 7.74281 19.0384 7.5216 18.9728 7.3201Z" fill="#FF8000"/>
                                </g>
                                <defs>
                                <clipPath id="clip0">
                                <rect width="19" height="19" fill="white"/>
                                </clipPath>
                                </defs>
                                </svg>
                            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <g clip-path="url(#clip0)">
                                    <path d="M18.9728 7.3201C18.9074 7.11856 18.7332 6.97168 18.5236 6.94125L12.6335 6.08532L9.99927 0.748014C9.90553 0.558015 9.71201 0.437744 9.50015 0.437744C9.28826 0.437744 9.09477 0.558015 9.001 0.748014L6.36669 6.08532L0.476711 6.94125C0.267081 6.97168 0.0928531 7.11856 0.0273925 7.32006C-0.0381053 7.5216 0.0165194 7.74281 0.168259 7.89069L4.43018 12.0452L3.42422 17.9116C3.38838 18.1204 3.47425 18.3314 3.64565 18.456C3.74262 18.5264 3.85747 18.5623 3.97288 18.5623C4.0615 18.5623 4.15041 18.5411 4.23183 18.4983L9.50012 15.7286L14.7682 18.4983C14.9558 18.5969 15.183 18.5805 15.3544 18.4559C15.5258 18.3314 15.6117 18.1203 15.5759 17.9115L14.5696 12.0452L18.832 7.89065C18.9837 7.74281 19.0384 7.5216 18.9728 7.3201Z" fill="#FF8000"/>
                                    </g>
                                    <defs>
                                    <clipPath id="clip0">
                                    <rect width="19" height="19" fill="white"/>
                                    </clipPath>
                                    </defs>
                                    </svg>
                            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <g clip-path="url(#clip0)">
                                        <path d="M18.9728 7.3201C18.9074 7.11856 18.7332 6.97168 18.5236 6.94125L12.6335 6.08532L9.99927 0.748014C9.90553 0.558015 9.71201 0.437744 9.50015 0.437744C9.28826 0.437744 9.09477 0.558015 9.001 0.748014L6.36669 6.08532L0.476711 6.94125C0.267081 6.97168 0.0928531 7.11856 0.0273925 7.32006C-0.0381053 7.5216 0.0165194 7.74281 0.168259 7.89069L4.43018 12.0452L3.42422 17.9116C3.38838 18.1204 3.47425 18.3314 3.64565 18.456C3.74262 18.5264 3.85747 18.5623 3.97288 18.5623C4.0615 18.5623 4.15041 18.5411 4.23183 18.4983L9.50012 15.7286L14.7682 18.4983C14.9558 18.5969 15.183 18.5805 15.3544 18.4559C15.5258 18.3314 15.6117 18.1203 15.5759 17.9115L14.5696 12.0452L18.832 7.89065C18.9837 7.74281 19.0384 7.5216 18.9728 7.3201Z" fill="#FF8000"/>
                                        </g>
                                        <defs>
                                        <clipPath id="clip0">
                                        <rect width="19" height="19" fill="white"/>
                                        </clipPath>
                                        </defs>
                                        </svg>
                            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0)">
                                            <path d="M18.9728 7.3201C18.9074 7.11856 18.7332 6.97168 18.5236 6.94125L12.6335 6.08532L9.99927 0.748014C9.90553 0.558015 9.71201 0.437744 9.50015 0.437744C9.28826 0.437744 9.09477 0.558015 9.001 0.748014L6.36669 6.08532L0.476711 6.94125C0.267081 6.97168 0.0928531 7.11856 0.0273925 7.32006C-0.0381053 7.5216 0.0165194 7.74281 0.168259 7.89069L4.43018 12.0452L3.42422 17.9116C3.38838 18.1204 3.47425 18.3314 3.64565 18.456C3.74262 18.5264 3.85747 18.5623 3.97288 18.5623C4.0615 18.5623 4.15041 18.5411 4.23183 18.4983L9.50012 15.7286L14.7682 18.4983C14.9558 18.5969 15.183 18.5805 15.3544 18.4559C15.5258 18.3314 15.6117 18.1203 15.5759 17.9115L14.5696 12.0452L18.832 7.89065C18.9837 7.74281 19.0384 7.5216 18.9728 7.3201Z" fill="#FF8000"/>
                                            </g>
                                            <defs>
                                            <clipPath id="clip0">
                                            <rect width="19" height="19" fill="white"/>
                                            </clipPath>
                                            </defs>
                                            </svg>
                        </p>
                        <div class="w-70 mw-100 m-auto pb-2" id="responsive_w_full">
                            <div class="row">
                                <div class="col-sm-4 branding-highlights">
                                    <span class="branding-points-icons">
                                        <svg width="25" height="25" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0)">
                                            <path d="M28.0156 13.3961L26.0409 12.5415L24.364 9.27828C23.9108 8.3848 22.9914 7.82798 21.9878 7.83446H19.1002V7.01866C19.1002 5.54246 17.9218 4.3382 16.4456 4.3382H2.64185C1.16565 4.3382 0.000233309 5.54894 0.000233309 7.01866V19.5146C-0.0127158 20.4145 0.70596 21.1526 1.60592 21.1656C1.6124 21.1656 1.61887 21.1656 1.63182 21.1656H1.97497C1.97497 21.2303 1.9685 21.2562 1.9685 21.2951C1.96202 23.1468 3.45765 24.6554 5.30937 24.6618C7.16109 24.6683 8.66967 23.1727 8.67614 21.321C8.67614 21.308 8.67614 21.3015 8.67614 21.2886C8.67614 21.2433 8.67614 21.2238 8.66967 21.1591H19.8253C19.8253 21.2238 19.8253 21.2497 19.8253 21.2886C19.8189 23.1403 21.3145 24.6489 23.1662 24.6554C25.0179 24.6618 26.5265 23.1662 26.533 21.3145C26.533 21.3015 26.533 21.2951 26.533 21.2821C26.533 21.2368 26.533 21.2174 26.533 21.1526H27.3682C28.2681 21.1526 28.9998 20.421 28.9998 19.521C28.9998 19.5146 28.9998 19.5081 28.9998 19.4951V14.8982C29.0127 14.2637 28.6242 13.6616 28.0156 13.3961ZM5.32879 23.3734C4.18927 23.3734 3.26988 22.454 3.26988 21.3145C3.26988 20.175 4.18927 19.2556 5.32879 19.2556C6.46832 19.2556 7.3877 20.175 7.3877 21.3145C7.3877 22.4475 6.46184 23.3734 5.32879 23.3734ZM17.8053 19.8836H8.36536C7.8215 18.6988 6.63018 17.9412 5.32879 17.9477C4.02093 17.9412 2.83609 18.6923 2.29223 19.8836H1.63182C1.43111 19.8836 1.29514 19.7282 1.29514 19.5275V16.1931H17.8053V19.8836ZM17.8053 7.02514V14.8982H1.29514V7.02514C1.29514 6.26761 1.88433 5.63958 2.64185 5.63958H16.4456C17.2031 5.64606 17.8117 6.26761 17.8053 7.01866V7.02514ZM19.1002 9.13584H21.9878C22.4993 9.12937 22.9784 9.40778 23.218 9.86747L24.5129 12.3731H19.1002V9.13584V9.13584ZM23.1856 23.3734C22.0461 23.3734 21.1267 22.454 21.1267 21.3145C21.1267 20.175 22.0461 19.2556 23.1856 19.2556C24.3251 19.2556 25.2445 20.175 25.2445 21.3145C25.2445 22.4475 24.3251 23.3734 23.1856 23.3734ZM27.7113 19.5275C27.7113 19.7282 27.5754 19.8836 27.3747 19.8836H26.2222C25.4388 18.2067 23.4446 17.4816 21.7677 18.265C21.0555 18.5952 20.4793 19.1714 20.1491 19.8836H19.1002V13.668H25.4452L27.5042 14.5745C27.6336 14.6392 27.7178 14.7817 27.7113 14.9241V19.5275Z" fill="#1F1E1E"/>
                                            </g>
                                            <defs>
                                            <clipPath id="clip0">
                                            <rect width="29" height="29" fill="white"/>
                                            </clipPath>
                                            </defs>
                                        </svg>
                                    </span>
                                    <div class="float-left ml-2">
                                        <h3 class="m-0">Lieferzeit<!-- Delivery Time --></h3>
                                        <h4 *ngIf="allowDelivery; else notDelTime" class="m-0 text-danger">{{siteDetails.deliveryTime}} Minuten<!-- mins --></h4>
                                        <ng-template #notDelTime>
                                          <h4 class="m-0 text-danger">Nicht verfügbar</h4>
                                        </ng-template>
                                    </div>
                                </div>
                                <div class="col-sm-4 branding-highlights">
                                    <span class="branding-points-icons">
                                        <svg width="25" height="25" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0)">
                                            <path d="M28.5695 10.4822C28.1865 10.0018 27.612 9.72614 26.9932 9.72614H21.4082L18.3797 2.79146C18.1919 2.3615 17.6911 2.16501 17.2611 2.35289C16.831 2.54065 16.6347 3.04152 16.8225 3.47154L19.554 9.72619H9.44602L12.1775 3.47154C12.3653 3.04152 12.169 2.54071 11.7389 2.35289C11.309 2.16501 10.8081 2.36138 10.6203 2.79146L7.59183 9.72619H2.00684C1.38798 9.72619 0.813476 10.0017 0.430529 10.4822C0.0546051 10.9539 -0.0841078 11.5603 0.0499606 12.1461L3.03249 25.1734C3.24075 26.0831 4.04545 26.7184 4.98936 26.7184H24.0106C24.9546 26.7184 25.7593 26.0831 25.9675 25.1734L28.95 12.1461C29.0841 11.5603 28.9454 10.9539 28.5695 10.4822ZM24.0106 25.0191H4.98936C4.8451 25.0191 4.71873 24.9245 4.68888 24.7941L1.70636 11.7669C1.68297 11.6647 1.72222 11.5877 1.75937 11.5412C1.79381 11.498 1.87181 11.4254 2.00684 11.4254H6.84978L6.62724 11.935C6.43948 12.365 6.63579 12.8658 7.06581 13.0537C7.17648 13.102 7.2918 13.1249 7.40537 13.1249C7.73286 13.1249 8.04495 12.9344 8.1844 12.6151L8.70397 11.4255H20.2962L20.8157 12.6151C20.9552 12.9345 21.2673 13.1249 21.5948 13.1249C21.7083 13.1249 21.8236 13.102 21.9343 13.0537C22.3643 12.8659 22.5607 12.365 22.3729 11.935L22.1503 11.4254H26.9933C27.1283 11.4254 27.2063 11.498 27.2407 11.5412C27.2778 11.5878 27.3172 11.6647 27.2938 11.7668L24.3112 24.7942C24.2813 24.9245 24.1549 25.0191 24.0106 25.0191Z" fill="#1F1E1E"/>
                                            <path d="M9.40234 15.1071C8.93313 15.1071 8.55273 15.4875 8.55273 15.9567V22.1871C8.55273 22.6563 8.93313 23.0367 9.40234 23.0367C9.87155 23.0367 10.252 22.6563 10.252 22.1871V15.9567C10.252 15.4875 9.87161 15.1071 9.40234 15.1071Z" fill="#1F1E1E"/>
                                            <path d="M14.5 15.1071C14.0308 15.1071 13.6504 15.4875 13.6504 15.9567V22.1871C13.6504 22.6563 14.0308 23.0367 14.5 23.0367C14.9692 23.0367 15.3496 22.6563 15.3496 22.1871V15.9567C15.3496 15.4875 14.9692 15.1071 14.5 15.1071Z" fill="#1F1E1E"/>
                                            <path d="M19.5977 15.1071C19.1284 15.1071 18.748 15.4875 18.748 15.9567V22.1871C18.748 22.6563 19.1284 23.0367 19.5977 23.0367C20.0669 23.0367 20.4473 22.6563 20.4473 22.1871V15.9567C20.4472 15.4875 20.0669 15.1071 19.5977 15.1071Z" fill="#1F1E1E"/>
                                            </g>
                                            <defs>
                                            <clipPath id="clip0">
                                            <rect width="29" height="29" fill="white"/>
                                            </clipPath>
                                            </defs>
                                        </svg>
                                    </span>
                                    <div class="float-left ml-2">
                                        <h3 class="m-0">Abholzeit<!-- Collection Time --></h3>
                                        <h4 *ngIf="allowPickup; else notColTime" class="m-0 text-danger">{{siteDetails.collectionTime}} Minuten</h4>
                                        <ng-template #notColTime>
                                          <h4 class="m-0 text-danger">Nicht verfügbar</h4>
                                        </ng-template>
                                    </div>
                                </div>
                                <!-- <div class="col-sm-4 branding-highlights">
                                    <span class="branding-points-icons">
                                        <svg width="25" height="25" viewBox="0 0 29 29" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M26.9699 16.2523L26.2189 13.2484C26.4242 13.2048 26.5783 13.0226 26.5783 12.8044V12.32C26.5783 11.2685 25.7227 10.413 24.6712 10.413H21.2505V9.41399C21.2505 8.89652 20.8296 8.47557 20.3121 8.47557H13.9517L17.8169 6.9295C18.0497 6.83639 18.1629 6.5721 18.0698 6.33925C17.9767 6.10646 17.7126 5.99312 17.4796 6.08629L14.3148 7.35216C15.2792 6.73341 16.2333 6.05242 16.5966 5.57619C17.3037 4.64904 17.1246 3.31946 16.1975 2.6123C15.2703 1.90508 13.9407 2.08424 13.2336 3.01139C12.7169 3.68892 12.0352 5.59267 11.5939 6.9342C11.1527 5.59278 10.471 3.68892 9.95431 3.01139C9.2472 2.08424 7.91757 1.9052 6.99042 2.6123C6.06327 3.3194 5.88422 4.64898 6.59133 5.57619C6.95456 6.05248 7.90862 6.73341 8.87304 7.35216L5.7083 6.08629C5.47534 5.99301 5.21116 6.1064 5.11805 6.33925C5.02487 6.5721 5.13815 6.83639 5.371 6.9295L9.23616 8.47557H2.87576C2.35829 8.47557 1.93734 8.89652 1.93734 9.41399V17.6478C1.93734 17.8986 2.14062 18.1019 2.39142 18.1019C2.64217 18.1019 2.84551 17.8986 2.84551 17.6478V9.41399C2.84551 9.39728 2.85905 9.38374 2.87576 9.38374H20.3121C20.3288 9.38374 20.3423 9.39728 20.3423 9.41399V17.6479C20.3423 17.8987 20.5456 18.102 20.7964 18.102C21.0471 18.102 21.2505 17.8988 21.2505 17.6479V17.1332H26.6068C26.6073 17.1332 26.6077 17.1333 26.6082 17.1333C26.6087 17.1333 26.6091 17.1333 26.6097 17.1333C27.2687 17.1338 27.8283 17.5664 28.0205 18.1625H26.6085C26.3578 18.1625 26.1544 18.3658 26.1544 18.6166V19.5852C26.1544 20.3698 26.7927 21.008 27.5772 21.008H28.0918V23.0059H26.9045C26.5145 21.8797 25.4439 21.0685 24.1868 21.0685C22.9297 21.0685 21.859 21.8797 21.4691 23.0059H21.2504V19.5852C21.2504 19.3344 21.0471 19.1311 20.7963 19.1311C20.5456 19.1311 20.3423 19.3344 20.3423 19.5852V23.0058H10.9213C10.5312 21.8797 9.46068 21.0684 8.20355 21.0684C6.94641 21.0684 5.87578 21.8796 5.48581 23.0058H2.87576C2.85905 23.0058 2.84551 22.9923 2.84551 22.9756V21.9766H4.81315C5.0639 21.9766 5.26724 21.7733 5.26724 21.5225C5.26724 21.2717 5.06395 21.0684 4.81315 21.0684H0.454088C0.20334 21.0684 0 21.2717 0 21.5225C0 21.7733 0.203283 21.9766 0.454088 21.9766H1.93739V22.9756C1.93739 23.493 2.35835 23.914 2.87581 23.914H5.32858C5.32847 23.9241 5.32779 23.9341 5.32779 23.9442C5.32779 25.5299 6.61789 26.82 8.20355 26.82C9.7892 26.82 11.0793 25.5299 11.0793 23.9442C11.0793 23.934 11.0786 23.9241 11.0785 23.914H21.3118C21.3117 23.9241 21.311 23.9341 21.311 23.9442C21.311 25.5299 22.6011 26.82 24.1867 26.82C25.7724 26.82 27.0625 25.5299 27.0625 23.9442C27.0625 23.934 27.0618 23.9241 27.0617 23.914H28.5459C28.7966 23.914 28.9999 23.7107 28.9999 23.4599V18.6165C29 17.4206 28.1177 16.427 26.9699 16.2523ZM9.79316 6.85683C8.00202 5.74379 7.47073 5.2317 7.31344 5.02541C6.90999 4.49645 7.01217 3.73786 7.54119 3.33441C7.75926 3.16811 8.01629 3.08774 8.27146 3.08774C8.6352 3.08774 8.9951 3.2512 9.23225 3.56216C9.6715 4.13808 10.3594 6.07649 10.8135 7.47331C10.5071 7.29285 10.1548 7.08164 9.79316 6.85683ZM12.3744 7.47325C12.8286 6.0765 13.5165 4.13814 13.9557 3.5621C14.3591 3.03314 15.1177 2.93101 15.6467 3.33441C16.1757 3.73786 16.2778 4.49645 15.8744 5.02541C15.7171 5.23164 15.1859 5.74379 13.3948 6.85678C13.0333 7.08153 12.681 7.2928 12.3744 7.47325ZM21.2505 11.321H24.6712C25.222 11.321 25.6702 11.7692 25.6702 12.32V12.3502H21.2505V11.321ZM21.2505 16.225V13.2584H25.2853L26.027 16.225H21.2505ZM8.20355 25.9119C7.11859 25.9119 6.23591 25.0292 6.23591 23.9442C6.23591 22.8593 7.11859 21.9766 8.20355 21.9766C9.2885 21.9766 10.1712 22.8593 10.1712 23.9442C10.1712 25.0292 9.2885 25.9119 8.20355 25.9119ZM24.1869 25.9119C23.1019 25.9119 22.2192 25.0292 22.2192 23.9442C22.2192 22.8593 23.1019 21.9766 24.1869 21.9766C25.2718 21.9766 26.1545 22.8593 26.1545 23.9442C26.1545 25.0292 25.2718 25.9119 24.1869 25.9119ZM28.0919 20.0997H27.5772C27.2935 20.0997 27.0626 19.8689 27.0626 19.5851V19.0705H28.0918V20.0997H28.0919Z"
                                                fill="#1F1E1E" />
                                            <path
                                                d="M8.20356 23.0059C7.68609 23.0059 7.26514 23.4268 7.26514 23.9443C7.26514 24.4617 7.68609 24.8827 8.20356 24.8827C8.72103 24.8827 9.14198 24.4617 9.14198 23.9443C9.14198 23.4268 8.72103 23.0059 8.20356 23.0059Z"
                                                fill="#1F1E1E" />
                                            <path
                                                d="M24.1869 23.0059C23.6694 23.0059 23.2485 23.4268 23.2485 23.9443C23.2485 24.4617 23.6694 24.8827 24.1869 24.8827C24.7044 24.8827 25.1253 24.4617 25.1253 23.9443C25.1253 23.4268 24.7044 23.0059 24.1869 23.0059Z"
                                                fill="#1F1E1E" />
                                            <path
                                                d="M18.8591 21.0684H12.0783C11.8275 21.0684 11.6242 21.2717 11.6242 21.5225C11.6242 21.7733 11.8275 21.9766 12.0783 21.9766H18.8591C19.1098 21.9766 19.3132 21.7733 19.3132 21.5225C19.3132 21.2717 19.1099 21.0684 18.8591 21.0684Z"
                                                fill="#1F1E1E" />
                                            <path
                                                d="M7.23489 19.1311H1.42278C1.17203 19.1311 0.968689 19.3344 0.968689 19.5852C0.968689 19.836 1.17197 20.0393 1.42278 20.0393H7.23489C7.48564 20.0393 7.68898 19.836 7.68898 19.5852C7.68898 19.3344 7.48564 19.1311 7.23489 19.1311Z"
                                                fill="#1F1E1E" />
                                            <path
                                                d="M7.23486 12.3502H5.29747C5.04672 12.3502 4.84338 12.5535 4.84338 12.8043V16.679C4.84338 16.9298 5.04667 17.1331 5.29747 17.1331C5.54828 17.1331 5.75156 16.9299 5.75156 16.679V15.1957H6.75053C7.00128 15.1957 7.20462 14.9925 7.20462 14.7417C7.20462 14.4908 7.00133 14.2876 6.75053 14.2876H5.75156V13.2584H7.23486C7.48561 13.2584 7.68895 13.0551 7.68895 12.8043C7.6889 12.5536 7.48561 12.3502 7.23486 12.3502Z"
                                                fill="#1F1E1E" />
                                            <path
                                                d="M10.8083 15.4087C11.2627 15.111 11.5637 14.5977 11.5637 14.0152C11.5637 13.0971 10.8168 12.3502 9.89872 12.3502H8.68785C8.4371 12.3502 8.23376 12.5535 8.23376 12.8043V16.679C8.23376 16.9298 8.43705 17.1331 8.68785 17.1331C8.93866 17.1331 9.14194 16.9299 9.14194 16.679V15.6801H9.89787L10.7317 16.9309C10.8192 17.0621 10.9632 17.1331 11.1099 17.1331C11.1965 17.1331 11.284 17.1084 11.3613 17.0568C11.5701 16.9177 11.6264 16.6358 11.4873 16.4272L10.8083 15.4087ZM9.89872 14.772H9.14194V13.2584H9.89872C10.316 13.2584 10.6555 13.5978 10.6555 14.0152C10.6555 14.4325 10.316 14.772 9.89872 14.772Z"
                                                fill="#1F1E1E" />
                                            <path
                                                d="M14.5 16.225H13.0167V15.1943C13.0267 15.1949 13.0367 15.1958 13.0469 15.1958H14.0156C14.2663 15.1958 14.4697 14.9925 14.4697 14.7417C14.4697 14.4909 14.2664 14.2876 14.0156 14.2876H13.0469C13.0367 14.2876 13.0267 14.2885 13.0167 14.2891V13.2584H14.5C14.7507 13.2584 14.9541 13.0551 14.9541 12.8043C14.9541 12.5536 14.7508 12.3502 14.5 12.3502H12.5626C12.3119 12.3502 12.1085 12.5535 12.1085 12.8043V16.679C12.1085 16.9298 12.3118 17.1331 12.5626 17.1331H14.5C14.7507 17.1331 14.9541 16.9299 14.9541 16.679C14.9541 16.4282 14.7507 16.225 14.5 16.225Z"
                                                fill="#1F1E1E" />
                                            <path
                                                d="M17.8904 16.225H16.4071V15.1958H16.9217C17.1725 15.1958 17.3758 14.9925 17.3758 14.7417C17.3758 14.4909 17.1725 14.2876 16.9217 14.2876H16.4071V13.2584H17.8904C18.1411 13.2584 18.3445 13.0551 18.3445 12.8043C18.3445 12.5536 18.1412 12.3502 17.8904 12.3502H15.953C15.7022 12.3502 15.4989 12.5535 15.4989 12.8043V16.679C15.4989 16.9298 15.7022 17.1331 15.953 17.1331H17.8904C18.1411 17.1331 18.3445 16.9299 18.3445 16.679C18.3445 16.4282 18.1411 16.225 17.8904 16.225Z"
                                                fill="#1F1E1E" />
                                        </svg>
                                    </span>
                                    <div class="float-left ml-2">
                                        <h3 class="m-0">Versandkosten -- Delivery Distance --</h3>
                                        <ng-container *ngIf="allowDelivery; else notDelCharges">
                                          <ng-container *ngFor="let distance of siteDetails.distanceDetails">
                                            <h4 class="m-0 text-danger">{{distance.postcode}} :
                                              {{distance.deliveryCharge | number: '1.2-2' | germanCurr: distance.deliveryCharge }} €</h4>
                                          </ng-container>
                                        </ng-container>
                                        <ng-template #notDelCharges>
                                          <h4 class="m-0 text-danger">Nicht verfügbar</h4>
                                        </ng-template>

                                    </div>
                                </div> -->
                                <div class="col-sm-4 branding-highlights">
                                    <span class="branding-points-icons">
                                        <svg width="25" height="25" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0)">
                                            <path d="M20.6034 15.6288H16.6629C15.5844 15.6288 14.7074 16.5058 14.7074 17.5843V20.6064C14.7074 21.6848 15.5844 22.5618 16.6629 22.5618H20.6034C21.6819 22.5618 22.5589 21.6848 22.5589 20.6064V17.5843C22.5589 16.5058 21.6819 15.6288 20.6034 15.6288ZM21.1367 20.6064C21.1367 20.9027 20.8938 21.1397 20.6034 21.1397H16.6629C16.3666 21.1397 16.1296 20.8967 16.1296 20.6064V17.5843C16.1296 17.288 16.3725 17.051 16.6629 17.051H20.6034C20.8997 17.051 21.1367 17.2939 21.1367 17.5843V20.6064Z" fill="#1F1E1E"/>
                                            <path d="M29 10.1358C29 10.0113 28.9704 9.89283 28.9052 9.78616L24.5913 2.20137C24.4669 1.98212 24.2299 1.8399 23.9751 1.8399H5.019C4.7642 1.8399 4.52718 1.97619 4.40274 2.20137L0.09481 9.78616C0.0355537 9.89283 0 10.0113 0 10.1358C0 11.8364 1.02513 13.2941 2.48876 13.94V26.449C2.48876 26.8401 2.80875 27.1601 3.19984 27.1601H7.12853C7.13445 27.1601 7.14038 27.1601 7.1463 27.1601H12.6571C12.6631 27.1601 12.669 27.1601 12.6749 27.1601H25.7942C26.1853 27.1601 26.5053 26.8401 26.5053 26.449V14.0289C26.5053 13.9993 26.5053 13.9756 26.4994 13.9519C27.9689 13.306 29 11.8424 29 10.1358ZM5.4338 3.26798H23.5603L26.932 9.19953H2.06804L5.4338 3.26798ZM20.6389 10.6158C20.4138 11.8957 19.2938 12.8675 17.9487 12.8675C16.6036 12.8675 15.4837 11.8957 15.2585 10.6158H20.6389ZM13.7474 10.6158C13.5223 11.8957 12.4023 12.8675 11.0572 12.8675C9.7121 12.8675 8.59215 11.8957 8.36105 10.6158H13.7474ZM1.46955 10.6158H6.85595C6.63077 11.8957 5.5049 12.8675 4.15979 12.8675C2.81467 12.8734 1.69473 11.8957 1.46955 10.6158ZM11.9461 25.7379H7.85738V18.0643C7.85738 17.5073 8.30772 17.051 8.87066 17.051H10.9387C11.4957 17.051 11.952 17.5013 11.952 18.0643V25.7379H11.9461ZM25.0832 25.7379H13.3682V18.0643C13.3682 16.7251 12.2779 15.6288 10.9328 15.6288H8.86473C7.52554 15.6288 6.4293 16.7191 6.4293 18.0643V25.7439H3.91091V14.2896C3.99387 14.2956 4.07683 14.2956 4.15979 14.2956C5.59379 14.2956 6.86187 13.5667 7.6085 12.4586C8.35513 13.5667 9.62321 14.2956 11.0572 14.2956C12.4912 14.2956 13.7534 13.5667 14.5059 12.4586C15.2526 13.5667 16.5206 14.2956 17.9487 14.2956C19.3827 14.2956 20.6449 13.5667 21.3915 12.4586C22.1381 13.5667 23.4062 14.2956 24.8402 14.2956C24.9232 14.2956 25.0002 14.2896 25.0832 14.2896V25.7379ZM24.8402 12.8734C23.4951 12.8734 22.3752 11.9016 22.15 10.6217H27.5364C27.3053 11.8957 26.1853 12.8734 24.8402 12.8734Z" fill="#1F1E1E"/>
                                            </g>
                                            <defs>
                                            <clipPath id="clip0">
                                            <rect width="29" height="29" fill="white"/>
                                            </clipPath>
                                            </defs>
                                            </svg>

                                    </span>
                                    <div class="float-left ml-2">
                                        <h3 class="m-0">Adresse<!-- Location --></h3>
                                        <h4 class="m-0 text-danger">{{siteDetails.location}}</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    <div class="container pb-5" id="home_container" class=" container home-container">
      <div *ngIf="isReservationActive" class="text-center row">
        <div class="col-lg-3"></div>
        <div class="col-lg-6 mt-4 mt-sm-0 mt-md-0 mt-lg-0 mt-xl-0 resv-btn">
          <a routerLink="reservation">Reservierung</a>
        </div>
        <div class="col-lg-3"></div>
      </div>

        <div class="row mobile-menu-home">
            <div class="col-sm-3 col-md-12 col-lg-2 pl-0 cats" id="categories" #categoriesCont>
                <div class="categories-menu sticky">
                    <div class="swiperMob">
                      <swiper #Swiper [slidesPerView]="'auto'">
                        <ng-template swiperSlide *ngFor="let category of categories; index as i;">
                          <div class="swiper-items" (click)="scroll(category.name, i)" [ngClass]="(activeCategory ==  i) ? 'active' : ''">
                            <span style="padding: 8px;">{{category.name}}</span>
                          </div>
                        </ng-template>
                      </swiper>

                      <div class="input-group mobile-search">
                        <div class="input-group-prepend">
                          <button class="btn input-group-text" type="submit">
                            <i class="fas fa-search"></i>
                          </button>
                        </div>
                        <input type="text" class="form-control" (input)="searchMenus($event)" [placeholder]="showHolder"
                          (focus)="showPlaceholders()" (blur)="stopPlaceholders()">
                      </div>
                    </div>

                    <ul class="swiperWeb">
                        <li name="stickyMenuItems" (click)="scroll(category.name, i);" [ngClass]="(activeCategory ==  i) ? 'active' : ''" *ngFor="let category of categories; index as i">
                          <a>{{category.name}}</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6 " id="menu">
              <div id="MenuWeb" class="menu-header d-xs-none" style="background-color: #343a40;">
                <h2 class="bg-dark text-white text-center" [ngStyle]="{'font-size': '16px', 'margin': '0'}">Speisekarte<!-- Menu --></h2>
                <div class="input-group" style="width: 260px; flex-wrap: nowrap;">
                  <input type="text" class="form-control" (input)="searchMenus($event)" [placeholder]="showHolder"
                    (focus)="showPlaceholders()" (blur)="stopPlaceholders()">
                  <div class="input-group-btn" style="background-color: whitesmoke;">
                    <button class="btn btn-default" type="submit">
                      <i class="fas fa-search"></i>
                    </button>
                  </div>
                </div>
              </div>

                <div class="home-products-list" id="WebMenuCont">
                  <!-- <div class="cat-image-container" id="cat-image-container">
                    </div> -->
                    <div *ngFor="let category of categories; let i = index" id="{{category.name}}" #{{category.name}}
                         class="product menuItem-pad stickyScroll" #menuItemsCont>
                         <div>
                            <img *ngIf="category.imageName?.length && category.imgSrc" class="categoryImage"
                              src="{{category.imgSrc}}">
                            <div class="category-tittle">

                              <!-- <h3 class="m-0">{{category.name}} <span class="bordered-line"></span></h3> -->
                              <h3 class="m-0">
                                {{category.name}}
                                <span class="align-self-center"> <h5 class="m-0" *ngIf=" category.discount && category.discount != 0 "> {{category.discount}}% OFF</h5>
                                </span>
                              </h3>
                            </div>
                         </div>

                        <label *ngIf="category.description" class="item-description">{{category.description}}</label>
                        <h4 class="text-danger text-center" *ngIf="category.items.length == 0">Keine Gegenstände<!-- No items --></h4>

                        <div class="product-variants mt-2" *ngIf="category.items.length > 0">
                            <div class="form-group mb-2" *ngFor="let products of category.items; let p = index">

                                <!-- <div class = "`" *ngIf = "products.itemCount != 0">
                                  <span *ngIf = "isMobileView; else desktop" [matBadge] = "products.itemCount" matBadgeSize="small" matBadgeOverlap="false">
                                  </span>
                                  <ng-template #desktop>
                                      <span [matBadge] = 'products.itemCount' matBadgeSize=  'medium' matBadgeOverlap = 'false'> </span>
                                  </ng-template>
                                </div> -->

                                <div *ngIf="products.options.length; else withoutOption" class="bg-white prdct-list" >
                                  <div class = "items-counter" *ngIf = "products.itemCount != 0">
                                    <span *ngIf = "isMobileView; else desktop" [matBadge] = "products.itemCount" matBadgeSize="small" matBadgeOverlap="false">
                                    </span>
                                    <ng-template #desktop>
                                        <span [matBadge] = 'products.itemCount' matBadgeSize=  'medium' matBadgeOverlap = 'false'> </span>
                                    </ng-template>
                                  </div>

                                  <div class="productList">
                                    <div class="product-content">
                                      <div class="product-name">
                                        <span (click)="productVariantsPopup(products, true)">{{products.name}}</span>
                                        <i *ngIf="products.allergies.length" class="fas fa-info-circle product-info" (click)="setProductInfo(i,p)"></i>
                                        <span (click)="productVariantsPopup(products, true)"></span>
                                      </div>

                                      <input type="checkbox" [checked]="ifItemExists(products._id)" class="item-check-input" name="product" id="{{products._id}}">
                                      <label for="{{products._id}}" (click)="productVariantsPopup(products, true)">
                                        <p *ngIf="products.description" class="item-description">{{products.description}}</p>
                                        <span class="itemPrice" *ngIf="products.isOptionPriceSame && products.options[0].price">{{products.options[0].price | number: '1.2-2' | germanCurr: products.options[0].price}} € </span>
                                      </label>
                                    </div>

                                    <div>
                                      <h5 class="productDiscount" *ngIf=" products.discount && products.discount != 0 "> {{products.discount}}% OFF </h5>

                                      <img *ngIf="products.imageName?.length && products.imgSrc" class="prdct-img"
                                        src="{{products.imgSrc}}">

                                      <!-- <img *ngIf="products.imageName?.length && products.b64Image" class="prdct-img"
                                        src="data:image/png;base64,{{products.b64Image}}"> -->
                                    </div>
                                  </div>
                                </div>

                               <!--  <ng-template #withoutOptionOnly>
                                <div *ngIf="!products.options.length; else withoutOptionAndTopping" class="bg-white prdct-list">
                                  <input type="checkbox" [checked]="ifItemExists(products._id)" class="variant-input" name="product" id="{{products._id}}">
                                  <label for="{{products._id}}" (click)="selectedOption=selectProductOption(products); productVariantsPopup(products, false);">
                                      {{products.name}}
                                      <h5 class="prdct-discount m-0" *ngIf=" products.discount && products.discount != 0 "> {{products.discount}}% OFF</h5>
                                      <span *ngIf="products.price != 0">{{products.price | number: '1.2-2' | germanCurr: products.price}} €</span>
                                      <p *ngIf="products.description" class="item-description">{{products.description}}</p>
                                    </label>
                                    <div *ngIf="products.allergies.length" class="product-info" (click)="setProductInfo(i,p)">
                                      ProductInfo <i class="fas fa-info-circle"></i>
                                    </div>
                                </div>
                                </ng-template> -->

                                <ng-template #withoutOption>
                                <div  class="bg-white prdct-list">
                                  <div class = "items-counter" *ngIf = "products.itemCount != 0">
                                    <span *ngIf = "isMobileView; else desktop" [matBadge] = "products.itemCount" matBadgeSize="small" matBadgeOverlap="false">
                                    </span>
                                    <ng-template #desktop>
                                        <span [matBadge] = 'products.itemCount' matBadgeSize=  'medium' matBadgeOverlap = 'false'> </span>
                                    </ng-template>
                                  </div>

                                  <div class="productList">
                                    <div class="product-content">
                                      <div class="product-name">
                                        <span (click)="selectedOption=selectProductOption(products);addToCart();false;">{{products.name}}</span>
                                        <i *ngIf="products.allergies.length" class="fas fa-info-circle product-info" (click)="setProductInfo(i,p)"></i>
                                        <span (click)="selectedOption=selectProductOption(products);addToCart();false;"></span>
                                      </div>

                                      <input type="checkbox" [checked]="ifItemExists(products._id)" class="item-check-input" name="product" id="{{products._id}}">
                                      <label for="{{products._id}}" *ngIf="!products.options.length" (click)="selectedOption=selectProductOption(products);addToCart();false;">
                                        <p *ngIf="products.description" class="item-description">{{products.description}}</p>
                                        <span class="itemPrice" *ngIf="products.price != 0">{{products.price | number: '1.2-2' | germanCurr: products.price}} € </span>
                                      </label>
                                    </div>

                                    <div>
                                      <h5 class="productDiscount" *ngIf=" products.discount && products.discount != 0 "> {{products.discount}}% OFF</h5>

                                      <img *ngIf="products.imageName?.length && products.imgSrc" class="prdct-img"
                                        src="{{products.imgSrc}}">

                                      <!-- <img *ngIf="products.imageName?.length && products.b64Image" class="prdct-img"
                                        src="data:image/png;base64,{{products.b64Image}}"> -->
                                    </div>
                                  </div>
                                </div>
                                </ng-template>

                            </div>
                        </div>
                    </div>
                </div><!-- home product list -->

                <div class="row">
                  <div class="col">
                    <div class="address-footer">
                      <h3>Impressum<!-- Address --></h3>
                        <p>
                          {{siteDetails.restaurantName}}
                          <br>
                          {{siteDetails.location}}
                        </p>

                        <p>
                          <strong>Email:</strong> {{siteDetails.restEmail}}
                          <br>
                          <strong>Fax:</strong> {{siteDetails.phoneNumber}}
                          <br>
                          <strong>VAT:</strong> {{siteDetails.vatNumber}}
                        </p>
                    </div>
                  </div>
                </div><!-- row close -->

            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-4 pr-1" id="checkout">
                <button class="btn btn-danger btn-home-cart" (click)="toggleCart()" *ngIf="!cartPopup">
                    <span class="float-left text-white">
                        <svg width="20" height="20" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0)">
                            <path d="M28.5695 10.4822C28.1865 10.0018 27.612 9.72614 26.9932 9.72614H21.4082L18.3797 2.79146C18.1919 2.3615 17.6911 2.16501 17.2611 2.35289C16.831 2.54065 16.6347 3.04152 16.8225 3.47154L19.554 9.72619H9.44602L12.1775 3.47154C12.3653 3.04152 12.169 2.54071 11.7389 2.35289C11.309 2.16501 10.8081 2.36138 10.6203 2.79146L7.59183 9.72619H2.00684C1.38798 9.72619 0.813476 10.0017 0.430529 10.4822C0.0546051 10.9539 -0.0841078 11.5603 0.0499606 12.1461L3.03249 25.1734C3.24075 26.0831 4.04545 26.7184 4.98936 26.7184H24.0106C24.9546 26.7184 25.7593 26.0831 25.9675 25.1734L28.95 12.1461C29.0841 11.5603 28.9454 10.9539 28.5695 10.4822ZM24.0106 25.0191H4.98936C4.8451 25.0191 4.71873 24.9245 4.68888 24.7941L1.70636 11.7669C1.68297 11.6647 1.72222 11.5877 1.75937 11.5412C1.79381 11.498 1.87181 11.4254 2.00684 11.4254H6.84978L6.62724 11.935C6.43948 12.365 6.63579 12.8658 7.06581 13.0537C7.17648 13.102 7.2918 13.1249 7.40537 13.1249C7.73286 13.1249 8.04495 12.9344 8.1844 12.6151L8.70397 11.4255H20.2962L20.8157 12.6151C20.9552 12.9345 21.2673 13.1249 21.5948 13.1249C21.7083 13.1249 21.8236 13.102 21.9343 13.0537C22.3643 12.8659 22.5607 12.365 22.3729 11.935L22.1503 11.4254H26.9933C27.1283 11.4254 27.2063 11.498 27.2407 11.5412C27.2778 11.5878 27.3172 11.6647 27.2938 11.7668L24.3112 24.7942C24.2813 24.9245 24.1549 25.0191 24.0106 25.0191Z" fill="#1F1E1E"/>
                            <path d="M9.40234 15.1071C8.93313 15.1071 8.55273 15.4875 8.55273 15.9567V22.1871C8.55273 22.6563 8.93313 23.0367 9.40234 23.0367C9.87155 23.0367 10.252 22.6563 10.252 22.1871V15.9567C10.252 15.4875 9.87161 15.1071 9.40234 15.1071Z" fill="#1F1E1E"/>
                            <path d="M14.5 15.1071C14.0308 15.1071 13.6504 15.4875 13.6504 15.9567V22.1871C13.6504 22.6563 14.0308 23.0367 14.5 23.0367C14.9692 23.0367 15.3496 22.6563 15.3496 22.1871V15.9567C15.3496 15.4875 14.9692 15.1071 14.5 15.1071Z" fill="#1F1E1E"/>
                            <path d="M19.5977 15.1071C19.1284 15.1071 18.748 15.4875 18.748 15.9567V22.1871C18.748 22.6563 19.1284 23.0367 19.5977 23.0367C20.0669 23.0367 20.4473 22.6563 20.4473 22.1871V15.9567C20.4472 15.4875 20.0669 15.1071 19.5977 15.1071Z" fill="#1F1E1E"/>
                            </g>
                            <defs>
                            <clipPath id="clip0">
                            <rect width="29" height="29" fill="white"/>
                            </clipPath>
                            </defs>
                        </svg>
                    </span>
                    {{this.CartService.cartTotalAmount.total | germanCurr: this.CartService.cartTotalAmount.total}} €
                    <span class="float-right">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-up" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"/>
                          </svg>
                    </span>
                  </button>
                <div class="bg-white w-100 sticky">
                    <div class="cart-home" id="your_order">
                      <label *ngIf="CartService.deliveryType=='DELIVERY'" class="px-4 selectedDelAddress">
                        {{selectedDelAddress}} (Lieferkosten <span class='text-danger'>{{CartService.deliveryFee | number: '1.2-2' | germanCurr: CartService.deliveryFee}} €)</span>
                      </label>

                      <!--Both Delivery and Pickup-->
                        <div *ngIf="this.CartService.deliveryType=='DELIVERY' || (!allowDelivery && !allowPickup)"
                          class="delivery-type-section mb-2 mx-auto w-90">
                            <!--Notice Message Only-->
                            <div *ngIf="!allowDelivery && !allowPickup" class='w-100 float-left'>
                              <label class="online-order-notice">
                                Wegen Online-Bestellung geschlossen <!--Closed for online ordering-->
                              </label>
                            </div>
                            <div *ngIf="allowDelivery && this.CartService.deliveryType=='DELIVERY'" class='w-100'>
                                <!--<div class="d-none delivery-selection" name="delivery_type" id="delivery"></div>-->
                                <label id="delivery" [ngClass]="this.CartService.deliveryType=='PICKUP' ? '' : 'delivery-selection-label-active'" (click)="changeDeliveryPopup()">
                                    <span><img src="assets/icons/delivery-grn.svg"></span> Liefergebiet ändern<!-- Delivery -->
                                </label>
                            </div>
                            <!-- <div *ngIf="allowPickup" class='float-left' [ngClass]="allowDelivery ? 'w-50' : 'w-100'">
                                <label id="collection" [ngClass]="this.CartService.deliveryType=='PICKUP' ? 'delivery-selection-label-active' : ''" (click)="this.CartService.deliveryType='PICKUP'; this.setOrderMode(); this.CartService.cartTotal();">
                                    <span><img src="assets/icons/collection-grn.svg"></span> Abholung
                                </label>
                            </div> -->
                        </div>
                        <div class="container mb-3">
                            <div class="row">
                                <div class="col-sm-12">
                                    <h1 class="m-0" [ngStyle]="{'font-size': '18px', 'margin-top': '12px'}">Warenkorb<!-- Your Order --></h1>
                                    <h5 *ngIf="CartService.deliveryType == 'DELIVERY'" class="m-0" [ngStyle]="{'font-size': '10px','line-height': '0.3','padding-left': '3px'}"><!-- Min Order -->Mindestbestellwert (exkl. Lieferkosten) : <span class='text-danger'>{{siteDetails.minimumOrder | number: '1.2-2' | germanCurr: siteDetails.minimumOrder}} €</span></h5>
                                </div>
                            </div>
                        </div>

                        <!--For Cart Showing in Desktop/Web-->
                        <div class="products-list container"
                          [ngClass]="CartService.deliveryType == 'DELIVERY' ? 'toggle-delivery-cart-height' : 'toggle-pickup-cart-height'">
                            <div class="product row pt-2" *ngFor="let item of this.CartService.cartItems;let i = index">
                                <div class="col-1 pt-1 text-center cartItemDel">
                                    <span (click)="this.CartService.removeItem(i)">
                                        <svg width="13" height="13" [ngStyle]="{'margin-top': '-5px'}" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M5.41763 0.784729H7.59032V1.15031H8.37495V0.733551C8.37505 0.329086 8.04616 0 7.64189 0H5.36606C4.96179 0 4.6329 0.329086 4.6329 0.733551V1.15031H5.41763V0.784729Z" fill="#AEAEAE"/>
                                            <path d="M10.187 4.25928H2.82092C2.61908 4.25928 2.46019 4.43146 2.47646 4.6327L3.09228 12.2475C3.1266 12.6726 3.48117 13 3.90716 13H9.10063C9.52662 13 9.8812 12.6726 9.91551 12.2474L10.5313 4.6327C10.5477 4.43146 10.3888 4.25928 10.187 4.25928V4.25928ZM4.60451 12.1878C4.59628 12.1883 4.58805 12.1886 4.57991 12.1886C4.37421 12.1886 4.20153 12.0284 4.18874 11.8203L3.80282 5.56898C3.78953 5.35266 3.95407 5.1665 4.17029 5.15321C4.38581 5.14011 4.57277 5.30426 4.58606 5.52068L4.97188 11.772C4.98527 11.9883 4.82073 12.1744 4.60451 12.1878V12.1878ZM6.90067 11.7962C6.90067 12.0128 6.72502 12.1885 6.50831 12.1885C6.2916 12.1885 6.11595 12.0128 6.11595 11.7962V5.54478C6.11595 5.32806 6.2916 5.15241 6.50831 5.15241C6.72492 5.15241 6.90067 5.32806 6.90067 5.54478V11.7962ZM9.20507 5.56789L8.83661 11.8192C8.82441 12.0277 8.65144 12.1885 8.44534 12.1885C8.4376 12.1885 8.42977 12.1883 8.42193 12.1879C8.20561 12.1751 8.04057 11.9894 8.05337 11.7731L8.42173 5.52167C8.43443 5.30535 8.6195 5.14031 8.83641 5.15311C9.05273 5.1658 9.21777 5.35157 9.20507 5.56789V5.56789Z" fill="#AEAEAE"/>
                                            <path d="M11.5438 3.04848L11.2861 2.27605C11.2182 2.07243 11.0276 1.93506 10.8128 1.93506H2.19499C1.98036 1.93506 1.78963 2.07243 1.72179 2.27605L1.46411 3.04848C1.41442 3.19745 1.47909 3.3494 1.59979 3.42517C1.64899 3.45602 1.70721 3.47456 1.77118 3.47456H11.2367C11.3007 3.47456 11.359 3.45602 11.4081 3.42507C11.5288 3.3493 11.5935 3.19735 11.5438 3.04848Z" fill="#AEAEAE"/>
                                        </svg>
                                    </span>
                                </div>
                                <div class="col-7">
                                  <h5 class="prdct-discount m-0" *ngIf=" item.discount && item.discount != 0; else categoryDiscount"> {{item.discount}}% OFF </h5>
                                   <ng-template #categoryDiscount>
                                      <h5 class="prdct-discount m-0" *ngIf=" item.catDiscount && item.catDiscount != 0; else overallDiscount"> {{item.catDiscount}}% OFF </h5>
                                    </ng-template>
                                    <ng-template #overallDiscount>
                                    <h5 class="prdct-discount m-0" *ngIf="item.excludeDiscount == false && __siteMeta.collectionDiscount && CartService.deliveryType == 'PICKUP' else deliveryDiscout">
                                      {{__siteMeta.collectionDiscount}}% OFF
                                    </h5>
                                    <ng-template #deliveryDiscout>
                                      <h5 class="prdct-discount m-0" *ngIf="item.excludeDiscount == false && __siteMeta.deliveryDiscount">
                                        {{__siteMeta.deliveryDiscount}}% OFF
                                      </h5>
                                    </ng-template>
                                  </ng-template>
                                    <h3 class="m-0">{{item.name}}</h3>
                                    <h3 class="m-0">{{item.option}} <span *ngIf="item.price != 0">[{{item.price | number: '1.2-2' | germanCurr: item.price}} €]</span></h3>
                                    <a *ngIf="item.toppings.length != 0 || item.variant || item.subVariant" data-toggle="collapse" href="#{{'collapse' + item._id}}" role="button" aria-expanded="false" aria-controls="collapseExample">
                                      ....
                                    </a>
                                    <div class="collapse" id="{{'collapse' + item._id}}">
                                    <h3 class="m-0" *ngIf="item.variant && item.variant.length">{{item.variant}} <span *ngIf="item.variantPrice != 0">-{{item.variantPrice | number: '1.2-2' | germanCurr: item.variantPrice}} €</span></h3>
                                    <h3 class="m-0" *ngIf="item.subVariant && item.subVariant.length">{{item.subVariant}} <span *ngIf="item.subVariantPrice != 0">-{{item.subVariantPrice | number: '1.2-2' | germanCurr: item.subVariantPrice}} €</span></h3>
                                    <h3 class="m-0" *ngFor="let toping of item.toppings">+ {{toping.name}} -{{toping.price | number: '1.2-2' | germanCurr: toping.price}} € {{toping.toppingCount > 1 ? ' * ' + toping.toppingCount : ''}}</h3>
                                    </div>
                                    <!--<h4 class="product-price text-danger m-0">€  {{item.price}}</h4>-->
                                    <p name="item-note" (click)="showNote(i)" [ngClass]="(item.note != '') ? 'note-text' : 'note-label-blank'">{{item.note === '' ? 'Notiz' : item.note}}</p>
                                    <textarea rows="1" cols="20" name="item-note-input" type="text" autofocus="true" (blur)="addNote($event, i)" [ngClass]="(item.note == '' || item.note != '') ? 'hide-note-label' : ''"></textarea>
                                </div>
                                <div class="ml-3 text-right position-relative">
                                    <div class="input-group">
                                        <div class="value-button" id="decrease" (click)="decreaseValue('cartItem' + i, i)" value="Decrease Value"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">
                                            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                                          </svg></div>
                                        <input type="text" id="number" class="cartItem{{i}}" readonly [value]="number" value="0" [value]="item.quantity" />
                                        <div class="value-button" id="increase" (click)="increaseValue('cartItem' + i, i)" value="Increase Value"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                          </svg></div>
                                    </div>
                                    <h4>{{itemTotal(item.price, item) | germanCurr: itemTotal(item.price, item)}} €</h4>
                                    <!-- <ng-container *ngIf="item.excludeDiscount == false; else withoutDiscountPrice">
                                      <h4 *ngIf="item.discount &&item.discount!=0; else overallDiscountPrice">{{itemTotal(item.price-(item.price*(item.discount/100)), item) | germanCurr: itemTotal(item.price, item)}} €</h4>
                                      <ng-template #overallDiscountPrice>
                                        <h4 >{{itemTotal(item.price-(item.price*(CartService.discount/100)), item) | germanCurr: itemTotal(item.price, item)}} €</h4>
                                      </ng-template>
                                    </ng-container>
                                    <ng-template #withoutDiscountPrice>
                                      <h4 >{{itemTotal(item.price, item) | germanCurr: itemTotal(item.price, item)}} €</h4>
                                    </ng-template> -->
                                  </div>

                              </div>
                        </div>

                        <div class="products-list container">
                            <div class="product cart-total-area-row row py-3">
                                <div class="col-sm-12">
                                    <!--<input type='text' (blur)="updateCartNote($event)" [value]="CartService.cartNote" name="note" placeholder="Add Note" class='add-note'>-->
                                     <!-- <h5>Zwischensumme: <span class="float-right">{{this.CartService.cartTotalAmount.subTotal | germanCurr: this.CartService.cartTotalAmount.subTotal}} €</span></h5> -->
                                    <h5 *ngIf="CartService.deliveryType == 'DELIVERY'">Liefergebühr: <span class="float-right">{{this.CartService.cartTotalAmount.delivery | germanCurr: this.CartService.cartTotalAmount.delivery}} €</span></h5>
                                    <h5 class="text-success m-0" *ngIf="this.CartService.cartTotalAmount.discount != 0">Rabatt: <span class="float-right">-{{this.CartService.cartTotalAmount.discount | germanCurr: this.CartService.cartTotalAmount.discount}} €</span></h5>
                                </div>
                            </div>
                        </div>
                        <div class="products-list container">
                            <div class="product cart-total-area-row row p-2">
                                <div class="col-sm-12">
                                    <h5 class="m-0">Gesamt: <span class="float-right text-danger">{{this.CartService.cartTotalAmount.total | germanCurr: this.CartService.cartTotalAmount.total}} €</span></h5>
                                </div>
                            </div>
                        </div>

                        <div *ngIf="CartService.deliveryType =='DELIVERY' && CartService.cartItems.length && this.CartService.cartTotalAmount.subTotal < siteDetails.minimumOrder"
                              class="products-list container">
                          <div class="product cart-total-area-row row p-2 text-success">
                              <div class="col-9">
                                  <h5 class="m-0">Benötigter Betrag, um den Mindestbestellwert zu erreichen</h5>
                              </div>
                              <div class="col-3 text-right">
                                <h5>
                                  {{(siteDetails.minimumOrder - this.CartService.cartTotalAmount.subTotal) | number: '1.2-2' | germanCurr: (siteDetails.minimumOrder - this.CartService.cartTotalAmount.subTotal)}} €
                                </h5>
                              </div>
                          </div>
                        </div>
                        <div *ngIf="CartService.deliveryType =='DELIVERY'" class="products-list container">
                          <div class="product cart-total-area-row row p-2">
                              <div class="col text-center place-order-note">
                                  <h5 class="m-0" *ngIf="this.CartService.cartTotalAmount.subTotal < siteDetails.minimumOrder; else placeOrderNote">
                                    Leider kannst Du noch nicht bestellen. {{siteDetails.restaurantName}} liefert
                                    erst ab einem Mindestbestellwert von {{siteDetails.minimumOrder | number: '1.2-2' | germanCurr: siteDetails.minimumOrder}} €.</h5>
                                    <ng-template #placeOrderNote>
                                      <h5>Du hast den Mindestbestellwert von {{siteDetails.minimumOrder | number: '1.2-2' | germanCurr: siteDetails.minimumOrder}} € erreicht und kannst jetzt fortfahren.</h5>
                                    </ng-template>
                              </div>
                          </div>
                        </div>

                        <div class="mt-3 px-3" *ngIf="allowPickup || allowDelivery">
                            <a class="btn-danger btn btn-block text-white"
                                [ngClass]="((CartService.deliveryType == 'DELIVERY' && this.CartService.cartTotalAmount.subTotal < siteDetails.minimumOrder) ||
                                CartService.deliveryType == 'PICKUP' && this.CartService.cartTotalAmount.subTotal == 0) ? 'disabled' : ''"
                                (click)="isPayment()"> Bestellen<!-- Go To Payment --></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal" *ngIf="deliveryPopup">
            <div class="popup" id="deliveryPopup">
                <button *ngIf="allowPickup" class="btn-danger close position-absolute" (click)="deliveryPopup = (deliveryPopup == true ? false : true);passCodeValidMsg='';isAddressValid=true">&times;</button>
                <div class="modal-body">
                    <h2 class="section-title text-center text-uppercase m-0"><strong>Bitte wählen Sie aus<!-- Select Delivery Type --></strong></h2>

                    <div class="delivery-type-section my-4 mx-auto">
                        <div *ngIf="allowDelivery" class='float-left' [ngClass]="allowPickup ? 'w-50' : 'w-100'">
                            <!--<input type="radio" checked class="d-none delivery-selection" name="delivery_type1" id="delivery1">-->
                            <label id="deliveryPop" class="delivery-selection-label-active">
                                <span><img src="assets/icons/delivery-grn.svg" [ngStyle]="{'width':'20px'}"></span> Lieferung<!-- Delivery -->
                            </label>
                        </div>
                        <div *ngIf="allowPickup" class='float-left' [ngClass]="allowDelivery ? 'w-50' : 'w-100'">
                            <!--<input type="radio" class="d-none delivery-selection"  name="delivery_type1" id="collection1">-->
                            <label id="collectionPop" (click)="this.CartService.deliveryType='PICKUP';deliveryPopup=false;passCodeValidMsg='';isAddressValid=true; this.setOrderMode(); this.CartService.cartTotal();">
                                <span><img src="assets/icons/collection-grn.svg" [ngStyle]="{'width':'20px'}"></span>Abholung<!-- Collection -->
                            </label>
                        </div>
                    </div>

                    <ng-container *ngIf="allowDelivery">
                      <h4 class="text-danger" *ngIf="passCodeValidMsg">{{passCodeValidMsg}}</h4>
                      <form>
                      <div class="my-4">
                        <mat-error *ngIf="postcodeForm.hasError('postcodeNotValid')" class="pb-2">
                          Postleitzahl aus Liste auswählen
                        </mat-error>
                        <!-- <div *ngIf="!isAddressValid" class="errorMsg py-2">
                          Postleitzahl aus Liste auswählen
                        </div> -->

                        <mat-form-field class="postcode-auto" appearance="outline">
                          <mat-label>Postleitzahl</mat-label>
                          <input type="text"
                                placeholder="Select Postleitzahl"
                                matInput
                                [formControl]="postcodeForm"
                                [matAutocomplete]="auto">
                          <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete"
                            (optionSelected)="checkPostcodeDistance($event.option.value)">
                            <mat-option *ngFor="let option of acceptedPostcodes | async" [value]="option">
                              {{option}}
                            </mat-option>
                          </mat-autocomplete>
                        </mat-form-field>

                          <!-- <div class="form-group m-0 google-location">
                              --<label for="variant1"><strong>Postleitzahl eingeben  Enter Postcode </strong></label>--
                              <input placeholder="Postleitzahl" (input)="handleAddressChange($event, false)" ngx-google-places-autocomplete #placesRef [options]="addressOptions" (onAddressChange)="handleAddressChange($event, true)" type="text" class="form-control" name="deliveryPassCode" id="deliveryPassCode">
                          </div> -->
                      </div>

                      <button class="btn-danger btn btn-block" type="button" (click)="navToCheckout()"
                        [disabled]="!postcodeForm.valid || (CartService.cartTotalAmount.subTotal < siteDetails.minimumOrder)">
                        Weiter
                      </button>

                    <!-- <div *ngIf="isGoogleAPIfetching" class="text-center">
                      <div class="spinner-border text-danger"></div>
                    </div> -->
                    <!--<button *ngIf="this.CartService.deliveryType == 'PICKUP'" type="submit" [disabled]="isGoogleAPIfetching" (click)="checkIfPassCodeValid()" class='btn-danger btn btn-block'>
                      <span *ngIf="!isGoogleAPIfetching">einreichen Submit </span>
                      <span *ngIf="isGoogleAPIfetching" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                    </button>-->
                    </form>
                  </ng-container>

                </div>
            </div>
        </div>


        <div class="modal mobile_modal_box" *ngIf="cartPopup" id="card_box_modal">
            <div class="popup">
                <button id="closeBtn" class="btn-danger close position-absolute" (click)="cartPopup = !cartPopup">
                  <i class="fas fa-angle-down"></i>
                  <!--
                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0)">
                        <path d="M7.00024 10.9902C6.74933 10.9902 6.49845 10.8944 6.30716 10.7032L0.287473 4.68347C-0.095458 4.30054 -0.095458 3.67968 0.287473 3.29691C0.670248 2.91413 1.29098 2.91413 1.67394 3.29691L7.00024 8.62351L12.3266 3.29709C12.7095 2.91432 13.3302 2.91432 13.7129 3.29709C14.096 3.67987 14.096 4.30073 13.7129 4.68366L7.69332 10.7034C7.50193 10.8946 7.25105 10.9902 7.00024 10.9902Z" fill="white"/>
                        </g>
                        <defs>
                        <clipPath id="clip0">
                        <rect width="14" height="14" fill="white"/>
                        </clipPath>
                        </defs>
                    </svg>-->
                  </button>
                <div class="modal-body">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-4 pr-1" id="checkout">
                        <div class="bg-white w-100">
                            <div class="cart-home">
                              <label *ngIf="CartService.deliveryType=='DELIVERY'" class="px-4 selectedDelAddress">
                                {{selectedDelAddress}} (Lieferkosten <span class='text-danger'>{{CartService.deliveryFee | number: '1.2-2' | germanCurr: CartService.deliveryFee}} €)</span>
                              </label>
                                <div *ngIf="this.CartService.deliveryType=='DELIVERY' || (!allowDelivery && !allowPickup)"
                                  class="delivery-type-section mb-2 mx-auto w-90">
                                    <!--Notice Message Only-->
                                    <div *ngIf="!allowDelivery && !allowPickup" class='w-100 float-left'>
                                      <label class="online-order-notice">
                                        Wegen Online-Bestellung geschlossen <!--Closed for online ordering-->
                                      </label>
                                    </div>
                                    <div *ngIf="allowDelivery && this.CartService.deliveryType=='DELIVERY'" class="w-100">
                                        <!--<input type="radio" [checked]="passcode" class="d-none delivery-selection" name="delivery_type" id="deliverymob1">-->
                                        <label id="deliveryMob" [ngClass]="this.CartService.deliveryType=='PICKUP' ? '' : 'delivery-selection-label-active'" (click)="changeDeliveryPopup()" (click)="cartPopup = (this.cartPopup == true ? false : true);">
                                            <span><img src="assets/icons/delivery-grn.svg"></span> Liefergebiet ändern<!-- Delivery -->
                                        </label>
                                    </div>
                                    <!-- <div *ngIf="allowPickup" class='float-left' [ngClass]="allowDelivery ? 'w-50' : 'w-100'">
                                        <label id="collectionMob" [ngClass]="this.CartService.deliveryType=='PICKUP' ? 'delivery-selection-label-active' : ''" (click)="this.CartService.deliveryType='PICKUP'; this.setOrderMode(); this.CartService.cartTotal();">
                                            <span><img src="assets/icons/collection-grn.svg"></span>Abholung
                                        </label>
                                    </div> -->
                                </div>
                                <div class="container mb-3">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <h1 class="m-0" [ngStyle]="{'font-size': '18px', 'margin-top': '12px'}">Warenkorb<!-- Your Order --></h1>
                                            <h5 *ngIf="CartService.deliveryType =='DELIVERY'" class="m-0" [ngStyle]="{'font-size': '10px','line-height': '0.3','padding-left': '3px'}"><!-- Min Order -->Mindestbestellwert von <span class='text-danger'>{{siteDetails.minimumOrder | number: '1.2-2' | germanCurr: siteDetails.minimumOrder}} € (exkl. Lieferkosten)</span></h5>
                                        </div>
                                    </div>
                                </div>

                                <!--For Cart Showing in Mobile-->
                                <div class="products-list-mobile container"
                                  [ngClass]="CartService.deliveryType == 'DELIVERY' ? 'toggle-delivery-cart-height-mob' : 'toggle-pickup-cart-height-mob'">
                                    <div class="product row pt-2" *ngFor="let item of this.CartService.cartItems;let i = index">
                                        <div class="col-1 pt-1 text-center">
                                            <span (click)="this.CartService.removeItem(i)">
                                            <svg width="13" height="13" [ngStyle]="{'margin-top': '-5px'}" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M5.41763 0.784729H7.59032V1.15031H8.37495V0.733551C8.37505 0.329086 8.04616 0 7.64189 0H5.36606C4.96179 0 4.6329 0.329086 4.6329 0.733551V1.15031H5.41763V0.784729Z" fill="#AEAEAE"/>
                                                <path d="M10.187 4.25928H2.82092C2.61908 4.25928 2.46019 4.43146 2.47646 4.6327L3.09228 12.2475C3.1266 12.6726 3.48117 13 3.90716 13H9.10063C9.52662 13 9.8812 12.6726 9.91551 12.2474L10.5313 4.6327C10.5477 4.43146 10.3888 4.25928 10.187 4.25928V4.25928ZM4.60451 12.1878C4.59628 12.1883 4.58805 12.1886 4.57991 12.1886C4.37421 12.1886 4.20153 12.0284 4.18874 11.8203L3.80282 5.56898C3.78953 5.35266 3.95407 5.1665 4.17029 5.15321C4.38581 5.14011 4.57277 5.30426 4.58606 5.52068L4.97188 11.772C4.98527 11.9883 4.82073 12.1744 4.60451 12.1878V12.1878ZM6.90067 11.7962C6.90067 12.0128 6.72502 12.1885 6.50831 12.1885C6.2916 12.1885 6.11595 12.0128 6.11595 11.7962V5.54478C6.11595 5.32806 6.2916 5.15241 6.50831 5.15241C6.72492 5.15241 6.90067 5.32806 6.90067 5.54478V11.7962ZM9.20507 5.56789L8.83661 11.8192C8.82441 12.0277 8.65144 12.1885 8.44534 12.1885C8.4376 12.1885 8.42977 12.1883 8.42193 12.1879C8.20561 12.1751 8.04057 11.9894 8.05337 11.7731L8.42173 5.52167C8.43443 5.30535 8.6195 5.14031 8.83641 5.15311C9.05273 5.1658 9.21777 5.35157 9.20507 5.56789V5.56789Z" fill="#AEAEAE"/>
                                                <path d="M11.5438 3.04848L11.2861 2.27605C11.2182 2.07243 11.0276 1.93506 10.8128 1.93506H2.19499C1.98036 1.93506 1.78963 2.07243 1.72179 2.27605L1.46411 3.04848C1.41442 3.19745 1.47909 3.3494 1.59979 3.42517C1.64899 3.45602 1.70721 3.47456 1.77118 3.47456H11.2367C11.3007 3.47456 11.359 3.45602 11.4081 3.42507C11.5288 3.3493 11.5935 3.19735 11.5438 3.04848Z" fill="#AEAEAE"/>
                                            </svg>
                                        </span>
                                        </div>
                                        <div class="col-7">
                                          <h5 class="prdct-discount m-0" *ngIf=" item.discount && item.discount != 0; else categoryDiscount"> {{item.discount}}% OFF </h5>
                                           <ng-template #categoryDiscount>
                                              <h5 class="prdct-discount m-0" *ngIf=" item.catDiscount && item.catDiscount != 0; else overallDiscount"> {{item.catDiscount}}% OFF </h5>
                                            </ng-template>
                                            <ng-template #overallDiscount>
                                            <h5 class="prdct-discount m-0" *ngIf="item.excludeDiscount == false && __siteMeta.collectionDiscount && CartService.deliveryType == 'PICKUP' else deliveryDiscout">
                                              {{__siteMeta.collectionDiscount}}% OFF
                                            </h5>
                                            <ng-template #deliveryDiscout>
                                              <h5 class="prdct-discount m-0" *ngIf="item.excludeDiscount == false && __siteMeta.deliveryDiscount">
                                                {{__siteMeta.deliveryDiscount}}% OFF
                                              </h5>
                                            </ng-template>
                                          </ng-template>
                                            <h3 class="m-0">{{item.name}}</h3>
                                            <h3 class="m-0">{{item.option}} <span *ngIf="item.price != 0">[{{item.price | number: '1.2-2' | germanCurr: item.price}} €]</span></h3>
                                            <a *ngIf="item.toppings.length != 0 || item.variant || item.subVariant" data-toggle="collapse" href="#{{'collapse' + item._id}}" role="button" aria-expanded="false" aria-controls="collapseExample">
                                              ....
                                            </a>
                                            <div class="collapse" id="{{'collapse' + item._id}}">
                                            <h3 class="m-0" *ngIf="item.variant && item.variant.length">{{item.variant}} <span *ngIf="item.variantPrice != 0">-{{item.variantPrice | number: '1.2-2' | germanCurr: item.variantPrice}} €</span></h3>
                                            <h3 class="m-0" *ngIf="item.subVariant && item.subVariant.length">{{item.subVariant}} <span *ngIf="item.subVariantPrice != 0">-{{item.subVariantPrice | number: '1.2-2' | germanCurr: item.subVariantPrice}} €</span></h3>
                                            <h3 class="m-0" *ngFor="let toping of item.toppings">+ {{toping.name}} -{{toping.price | number: '1.2-2' | germanCurr: toping.price}} € {{toping.toppingCount > 1 ? ' * ' + toping.toppingCount : ''}}</h3>
                                            </div>
                                            <!--<h4 class="product-price text-danger m-0">€  {{item.price}}</h4>-->
                                            <p name="item-note" (click)="showNote(i)" [ngClass]="(item.note != '') ? 'note-text' : 'note-label-blank'">{{item.note === '' ? 'Notiz' : item.note}}</p>
                                            <textarea rows="1" cols="20" name="item-note-input" type="text" autofocus="true" (blur)="addNote($event, i)" [ngClass]="(item.note == '' || item.note != '') ? 'hide-note-label' : ''"></textarea>
                                        </div>
                                        <div class="col-4 text-right position-relative">
                                            <div class="input-group">
                                                <div class="value-button" id="decrease" (click)="decreaseValue('cartItem' + i, i)" value="Decrease Value"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">
                                                <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                                              </svg></div>
                                                <input type="text" id="number" class="cartItem{{i}}" readonly [value]="number" value="0" [value]="item.quantity" />
                                                <div class="value-button" id="increase" (click)="increaseValue('cartItem' + i, i)" value="Increase Value"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                                                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                              </svg></div>
                                            </div>
                                            <h4 >{{itemTotal((item.price), item) | germanCurr: itemTotal(item.price, item)}} €</h4>
                                            <!-- <ng-container *ngIf="item.excludeDiscount; else withoutDiscountPrice">
                                              <h4 *ngIf="item.discount &&item.discount!=0; else overallDiscountPrice">{{itemTotal(item.price-(item.price*(item.discount/100)), item) | germanCurr: itemTotal(item.price, item)}} €</h4>
                                              <ng-template #overallDiscountPrice>
                                                <h4 >{{itemTotal(item.price-(item.price*(CartService.discount/100)), item) | germanCurr: itemTotal(item.price, item)}} €</h4>
                                              </ng-template>
                                            </ng-container>
                                            <ng-template #withoutDiscountPrice>
                                              <h4 >{{itemTotal(item.price, item) | germanCurr: itemTotal(item.price, item)}} €</h4>
                                            </ng-template> -->
                                        </div>
                                    </div>
                                </div>
                                <div class="products-list-mobile container">
                                    <div class="product row py-3">
                                        <div class="col-sm-12 pl-0">
                                            <!--<input type='text' (blur)="updateCartNote($event)" [value]="CartService.cartNote" name="note" placeholder="Add Note" class='add-note'>-->
                                            <!-- <h5> Subtotal Zwischensumme: <span class="float-right">{{this.CartService.cartTotalAmount.subTotal | germanCurr: this.CartService.cartTotalAmount.subTotal}} €</span></h5> -->
                                            <h5 *ngIf="CartService.deliveryType == 'DELIVERY'"><!-- Delivery Fee -->Liefergebühr: <span class="float-right">{{this.CartService.cartTotalAmount.delivery | germanCurr: this.CartService.cartTotalAmount.delivery}} €</span></h5>
                                            <h5 class="text-success m-0" *ngIf="this.CartService.cartTotalAmount.discount != 0"><!--Total Discount -->Rabatt: <span class="float-right">{{this.CartService.cartTotalAmount.discount | germanCurr: this.CartService.cartTotalAmount.discount}} €</span></h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="products-list-mobile mb-3 container">
                                    <div class="product cart-total-area-row row p-2">
                                        <div class="col-sm-12 pl-0">
                                            <h5 class="m-0">Gesamt: <span class="float-right text-danger">{{this.CartService.cartTotal().total | germanCurr: this.CartService.cartTotal().total}} €</span></h5>
                                        </div>
                                    </div>
                                </div>

                                  <div *ngIf="CartService.deliveryType =='DELIVERY' && CartService.cartItems.length && this.CartService.cartTotalAmount.subTotal < siteDetails.minimumOrder"
                                      class="products-list-mobile container">
                                  <div class="product cart-total-area-row row p-2 text-success">
                                      <div class="col-9 pl-0">
                                          <h5 class="m-0">Benötigter Betrag, um den Mindestbestellwert zu erreichen</h5>
                                      </div>
                                      <div class="col-3 pl-0 text-right">
                                        <h5>
                                          {{(siteDetails.minimumOrder - this.CartService.cartTotalAmount.subTotal) | number: '1.2-2' | germanCurr: (siteDetails.minimumOrder - this.CartService.cartTotalAmount.subTotal)}} €
                                        </h5>
                                      </div>
                                  </div>
                                </div>
                                <div *ngIf="CartService.deliveryType =='DELIVERY'" class="products-list-mobile container">
                                  <div class="product cart-total-area-row row p-2">
                                      <div class="col pl-0 text-center place-order-note">
                                          <h5 class="m-0" *ngIf="this.CartService.cartTotalAmount.subTotal < siteDetails.minimumOrder; else placeOrderNote">
                                            Leider kannst Du noch nicht bestellen. {{siteDetails.restaurantName}} liefert
                                            erst ab einem Mindestbestellwert von {{siteDetails.minimumOrder | number: '1.2-2' | germanCurr: siteDetails.minimumOrder}} €.</h5>
                                            <ng-template #placeOrderNote>
                                              <h5>Du hast den Mindestbestellwert von {{siteDetails.minimumOrder | number: '1.2-2' | germanCurr: siteDetails.minimumOrder}} € erreicht und kannst jetzt fortfahren.</h5>
                                            </ng-template>
                                      </div>
                                  </div>
                                </div>

                                <div class="px-3" *ngIf="allowPickup || allowDelivery">
                                  <a class="btn-danger btn btn-block text-white"
                                      [ngClass]="((CartService.deliveryType == 'DELIVERY' && this.CartService.cartTotalAmount.subTotal < siteDetails.minimumOrder) ||
                                      CartService.deliveryType == 'PICKUP' && this.CartService.cartTotalAmount.subTotal == 0) ? 'disabled' : ''"
                                      (click)="isPayment(); cartPopup = !cartPopup;"> Bestellen<!-- Go To Payment --></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal" *ngIf="productPopup">

          <div class="popup optionPopUp" id="productPopup">
            <button class="btn-danger close position-absolute" (click)="productVariantsPopup(product, false); addItemPopupCart=false; optionTotal=0; toppingViewCount=3">&times;</button>
                <div class="modal-body">
                    <h2 class="section-title text-center m-0"><strong>{{product.name}}</strong></h2>
                    <h3 class="text-danger text-center m-0">
                        <strong *ngIf="product.price">{{product.price | number: '1.2-2' | germanCurr: product.price}} €</strong>
                    </h3>

                    <div class="product-variants mt-4">
                        <h2 class='section-title' *ngIf="popupVariants.length">Option wählen<!-- Choose One --></h2>
                        <div class="form-group m-0" *ngFor="let option of popupVariants; let i = index">
                            <input type="radio" class="variant-input" name="option" id="{{option._id}}">
                            <label class="popup-lbl" for="{{option._id}}" (click)="selectedOption=selectProductOption(product, option); scrollIntoPopupHeader('options');">
                                {{option.name}}
                                <span *ngIf="!product.isOptionPriceSame">{{option.price | number: '1.2-2' | germanCurr: option.price}} €</span>
                            </label>
                        </div>
                    </div>
                    <div class="product-variants mt-4" *ngIf="selectedVariant && selectedVariant.length">
                      <h2 id="variantHeader" class='section-title'> Variante auswählen <!-- Select variant --></h2>
                      <div class="form-group m-0" *ngFor="let variant of selectedVariant; let i = index">
                        <input type="radio" class="variant-input" name="variant" id="{{variant._id}}">
                        <label class="popup-lbl" for="{{variant._id}}" (click)="selectedOption=selectVariant(variant); scrollIntoPopupHeader('variants');">
                            {{variant.name}}
                            <span *ngIf="variant.price != 0">{{variant.price | number: '1.2-2' | germanCurr: variant.price}} €</span>
                        </label>
                      </div>
                    </div>
                    <div class="product-variants mt-4" *ngIf="selectedSubVariant && selectedSubVariant.length">
                      <h2 id="subVariantHeader" class='section-title'> Untervarianten <!-- Sub-Variants --></h2>
                      <div class="form-group m-0" *ngFor="let subVariant of selectedSubVariant; let i = index">
                        <input type="radio" class="variant-input" name="subVariant" id="{{subVariant._id}}">
                        <label class="popup-lbl" for="{{subVariant._id}}" (click)="selectedOption=selectSubVariants(subVariant); scrollIntoPopupHeader('subVariants');">
                            {{subVariant.name}}
                            <span *ngIf="subVariant.price != 0">{{subVariant.price | number: '1.2-2' | germanCurr: subVariant.price}} €</span>
                        </label>
                      </div>
                    </div>
                    <div class="product-variants mt-4" *ngIf="selectedOptionTopping && selectedOptionTopping.length">
                        <h2 id="toppingHeader" class='section-title'> Wählen Sie Topping</h2>
                        <div [id]="'toppingName' + i" class="form-group m-0 topping"
                          *ngFor="let topping of selectedOptionTopping | slice:0:toppingViewCount; let i = index">
                            <div class="topping-counter" *ngIf="toppingCount[i] !== 0">
                              <span *ngIf="isMobileView; else desktop" [matBadge]="toppingCount[i]" matBadgeSize="small" matBadgeOverlap="false">
                              </span>
                              <ng-template #desktop>
                                <span [matBadge]="toppingCount[i]" matBadgeSize="medium" matBadgeOverlap="false"></span>
                              </ng-template>
                            </div>
                           <!--  <input #toppingLabel type="input" class="variant-input" id="{{topping._id}}"/>  -->
                            <label class="popup-lbl" #toppingLabel (click)="addTopings(topping, i, toppingLabel)">
                                {{topping.name}}
                                <span>{{topping.price | number: '1.2-2' | germanCurr: topping.price}} €</span>
                            </label>
                            <span class="fas fa-trash-alt" [ngStyle]="{'color': 'red'}" (click)="addTopings(topping, i, toppingLabel, true)"></span>
                        </div>
                        <ng-container *ngIf="selectedOptionTopping.length > 3">
                          <a *ngIf="toppingViewCount == 3; else toppingViewLess" class="topping-view-count" role="button"
                            (click)="toppingViewCount=selectedOptionTopping.length; scrollToNextTopping();">
                            Show more
                            <i class="fas fa-chevron-down"></i>
                          </a>
                          <ng-template #toppingViewLess>
                            <a class="topping-view-count" role="button" (click)="toppingViewCount=3">
                              Show less
                              <i class="fas fa-chevron-up"></i>
                            </a>
                          </ng-template>
                        </ng-container>
                    </div>
                    <!-- <button class='btn-danger btn btn-block' [disabled]="!addItemPopupCart" (click)="addToCart();toggleVariantProduct();addItemPopupCart=false">
                      in den Warenkorb legen
                    </button> -->
                </div>

                <div *ngIf="selectedItem?.option.length" class="modal-footer">
                  <button type="button" class="btn btn-danger btn-block" [disabled]="!addItemPopupCart" (click)="addToCart();toggleVariantProduct();addItemPopupCart=false;optionTotal=0;toppingViewCount=3">
                    {{selectedItem?.toppings.length ?  'in den Warenkorb legen' : (selectedOptionTopping.length ? 'Übersprigen und weiter' : 'Weiter')}}
                    <ng-container *ngIf="optionTotal">({{optionTotal | number: '1.2-2' | germanCurr: optionTotal}} €)</ng-container>
                  </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- OTP Login Modal-->
<div class="modal" id="otpLogin" *ngIf="openOTPModal">

  <div class="login-popup">
    <button id="otpModal-btn" class="btn-danger close position-absolute" (click)="openOTPModal=false;">&times;</button>
      <!-- Modal Header -->
    <div class="modal-header justify-content-center">
      <h2 class="modal-title">Melden Sie sich an, um fortzufahren</h2>
    </div>

    <form [formGroup]="contactInfo" (ngSubmit)="loginStep == 1 ? sendOTP() : verifyOTP()">
      <!-- Modal body -->
      <div class="modal-body">
        <div *ngIf="loginStep == 1">
          <label for="">Handynummer</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">+49</span>
              <!-- <span class="input-group-text">+91</span> -->
            </div>
            <input type="number" class="form-control" placeholder="Phone number" formControlName="contact">
          </div>
        </div>

        <div class="otp-verify" *ngIf="loginStep == 2">
          <label for="">Geben Sie das 4-stellige OTP ein, das an Ihr Mobiltelefon gesendet wird</label>
          <p>OTP nicht erhalten? Klicken Sie unten auf die Schaltfläche „Erneut senden“,
            um OTP erneut zu senden, das in <span>{{resendOTPTimer}}</span> Sekunden aktiviert wird.</p>
          <button type="button" *ngIf="!disableResendOTP" class="btn resend-otp" [disabled]="disableResendOTP || isLoginLoad"
            (click)="sendOTP();">
            Resend OTP</button>
          <mat-chip-list *ngIf="otpMessage" >
            <mat-chip  class="mb-3" color="warn" selected>{{otpMessage}}</mat-chip>
          </mat-chip-list>
          <div class="input-group mb-3 justify-content-start">
            <!-- <input type="number" pattern="^[0-9]*$" (keyup)="restrictCodeLength($event)" class="form-control" placeholder="Enter 4-digit code"
              formControlName="otp"> -->
            <ng-otp-input [config]="{length: 4, allowNumbersOnly: true}" (onInputChange)="get_OTP($event)">
            </ng-otp-input>
          </div>
          <p class="change-mob" (click)="clearMobile()">Handynummer ändern</p>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer justify-content-center">
        <button *ngIf="loginStep == 1" type="submit" class="btn btn-danger" [disabled]="isLoginLoad ||
         !contactInfo.get('code').valid || !contactInfo.get('contact').valid">
          <span *ngIf="!isLoginLoad" class="m-0">Senden</span>
          <span *ngIf="isLoginLoad" class="spinner-border m-0"></span>
        </button>

        <button *ngIf="loginStep == 2" type="submit" class="btn btn-danger" [disabled]="isLoginLoad ||
          !contactInfo.get('otp').valid">
          <span *ngIf="!isLoginLoad" class="m-0">Verifizieren</span>
          <span *ngIf="isLoginLoad" class="spinner-border m-0"></span>
        </button>
      </div>
    </form>
  </div>

</div>
